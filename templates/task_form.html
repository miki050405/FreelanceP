{% extends "base.html" %}
{% block title %}Создать задачу{% endblock %}

{% block content %}
<div class="task-form-page">
  <div class="task-form-card">
    <h2>{{ form_title }}</h2>
    <form method="post">
      {% csrf_token %}
      <div class="form-group">
        <label for="id_title">Название задачи</label>
        {{ form.title }}
      </div>

      <div class="form-group">
        <label for="id_description">Описание</label>
        {{ form.description }}
      </div>

      <div class="form-group">
        <label for="id_price">Цена (сом)</label>
        {{ form.price }}
      </div>

      <div class="form-group">
        <label for="id_deadline">Срок выполнения</label>
        {{ form.deadline }}
      </div>

      <div class="form-group">
        <label for="id_category">Категория</label>
        {{ form.category }}
      </div>

      <div class="form-group">
        <label for="id_status">Статус</label>
        {{ form.status }}
      </div>

      <button type="submit" class="btn-primary">Сохранить</button>
    </form>
  </div>
</div>

<style>
.task-form-page {
  display: flex;
  justify-content: center;
  padding: 40px 0;
  background: #f4f4f8;
}

.task-form-card {
  background: #fff;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 500px;
}

.task-form-card h2 {
  margin-bottom: 20px;
  font-size: 24px;
  color: #333;
  text-align: center;
}

.form-group {
  margin-bottom: 15px;
}

.form-group label {
  display: block;
  font-weight: 600;
  margin-bottom: 5px;
}

.form-group input,
.form-group textarea,
.form-group select {
  width: 100%;
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
}

textarea {
  resize: vertical;
  min-height: 80px;
}

button.btn-primary {
  background: #4caf50;
  color: #fff;
  padding: 10px 18px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
  width: 100%;
  margin-top: 10px;
  transition: 0.3s;
}

button.btn-primary:hover {
  background: #45a049;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const form = document.querySelector('form');

  form.addEventListener('submit', (e) => {
    const title = document.getElementById('id_title').value.trim();
    if (!title) {
      alert('Введите название задачи!');
      e.preventDefault();
    }

    const price = document.getElementById('id_price').value;
    if (!price || price <= 0) {
      alert('Введите корректную цену!');
      e.preventDefault();
    }

    const deadline = document.getElementById('id_deadline').value;
    if (!deadline) {
      alert('Выберите срок выполнения!');
      e.preventDefault();
    }
  });
});
</script>

{% endblock %}
