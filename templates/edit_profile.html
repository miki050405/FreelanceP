{% extends "base.html" %}
{% load static %}

{% block title %}Редактировать профиль{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'freelance_app/css/edit_profile.css' %}">
{% endblock %}

{% block content %}
<div class="edit-wrap">
  <div class="edit-card">
    <div class="header">
      <h2>Редактировать профиль</h2>
      <a href="{% url 'profile' %}" class="back">← Назад</a>
    </div>

    <form method="POST" enctype="multipart/form-data" class="form">
      {% csrf_token %}

      <div class="field">
        <label for="{{ user_form.email.id_for_label }}">Почта <span class="icon">✏️</span></label>
        {{ user_form.email }}
      </div>

      <div class="field">
        <label for="{{ profile_form.phone.id_for_label }}">Телефон <span class="icon">✏️</span></label>
        {{ profile_form.phone }}
      </div>

      <div class="field">
        <label for="{{ profile_form.location.id_for_label }}">Город <span class="icon">✏️</span></label>
        {{ profile_form.location }}
      </div>

      <div class="field">
        <label for="{{ profile_form.bio.id_for_label }}">О себе <span class="icon">✏️</span></label>
        {{ profile_form.bio }}
      </div>

      <div class="field">
        <label for="{{ profile_form.skills.id_for_label }}">Навыки <span class="icon">✏️</span></label>
        {{ profile_form.skills }}
      </div>

      <div class="field">
        <label for="id_avatar">Фото (аватар)</label>
        {% if profile_form.instance.avatar %}
            <img src="{{ profile_form.instance.avatar.url }}" alt="avatar" class="preview">
        {% endif %}
        <input type="file" name="avatar" id="id_avatar" accept="image/*" class="file-input">
       </div>

        <div class="field">
            <label for="id_qr_code">Платёжная информация (QR)</label>
            {% if profile_form.instance.qr_code %}
                <img src="{{ profile_form.instance.qr_code.url }}" alt="qr" class="preview preview--qr">
            {% endif %}
            <input type="file" name="qr_code" id="id_qr_code" accept="image/*" class="file-input">
        </div>

      <div class="actions">
        <button type="submit" class="btn primary">Сохранить</button>
        <a href="{% url 'profile' %}" class="btn ghost">Отмена</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
